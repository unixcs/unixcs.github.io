<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Wfuzz初上手 | Unixcs</title>
  
    <link rel="icon" href="/assets/2.ico">
  
  
  
  <!--link rel="stylesheet" href="//cdn.jsdelivr.net/highlight.js/9.10.0/styles/github-gist.min.css"-->
  <link rel="stylesheet" href="//cdn.jsdelivr.net/highlight.js/9.10.0/styles/github-gist.min.css">
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
<div class="Shell">
    <aside class="SideBar">
    <section class="avatar" style="background-image: url(/assets/background.png)">
        <div class="av-pic" style="background-image: url(/assets/header.jpg)">
        </div>
    </section>
    <section class="menu">
        <div>Unixcs</div>
        
            <div>Self-discipline</div>
        
        <ul>
          
            <a href="/" class="Btn">
              <li>Home</li>
            </a>  
          
            <a href="/archives/" class="Btn">
              <li>Archive</li>
            </a>  
          
            <a href="/tags/" class="Btn">
              <li>Tags</li>
            </a>  
          
            <a href="/about" class="Btn">
              <li>About</li>
            </a>  
          
        </ul>
    </section>
    <section class="media">
        
            
                <a href="https://github.com/unixsc">
                    <img src="/assets/github.svg">
                </a>
            
        
    </section>
</aside>

    <div class="container">
        <div data-pager-shell>
            <div>
  <article class="ContentView">
    <header class="PageTitle">
        <h1>Wfuzz初上手</h1>
    </header>

    <section>
      <h1 id="Wfuzz初上手"><a href="#Wfuzz初上手" class="headerlink" title="Wfuzz初上手"></a>Wfuzz初上手</h1><h2 id="Wfuzz是啥玩意？"><a href="#Wfuzz是啥玩意？" class="headerlink" title="Wfuzz是啥玩意？"></a>Wfuzz是啥玩意？</h2><p>wfuzz 是一款Python开发的Web安全模糊测试工具。<a href="https://github.com/xmendez/wfuzz" target="_blank" rel="noopener">https://github.com/xmendez/wfuzz</a></p>
<a id="more"></a>

<p>简单粗暴的功能特点记录：</p>
<ol>
<li>模块化 框架 可编写插件</li>
<li>接口 可处理BurpSuite所抓的请求和响应报文</li>
</ol>
<p>简而言之就是wfuzz可以用在做<strong>请求参数参数类的模糊测试</strong>，也可以用来做<strong>Web目录扫描</strong>等操作。</p>
<h2 id="Wfuzz初体验"><a href="#Wfuzz初体验" class="headerlink" title="Wfuzz初体验"></a>Wfuzz初体验</h2><ul>
<li>安装Wfuzz <code>pip install wfuzz</code></li>
</ul>
<h3 id="简单的使用"><a href="#简单的使用" class="headerlink" title="简单的使用"></a>简单的使用</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wfuzz -w 字典 地址(e.g. https://gh0st.cn/FUZZ)</span><br></pre></td></tr></table></figure>

<p>如上命令使用-w参数指定字典位置，然后跟上一个要测试的地址，所列的例子<code>https://gh0st.cn/FUZZ</code>中有一个<strong>FUZZ</strong>单词，这个单词可以理解是一个占位符，这样就大概了解了wfuzz的基本运行原理，它会读取字典然后传入占位符进行模糊测试请求。</p>
<p>实际的使用一遍：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wfuzz -w test_dict.txt https://gh0st.cn/FUZZ</span><br></pre></td></tr></table></figure>

<p>返回结果如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">********************************************************</span><br><span class="line">* Wfuzz 2.2.11 - The Web Fuzzer                        *</span><br><span class="line">********************************************************</span><br><span class="line"></span><br><span class="line">Target: https://gh0st.cn/FUZZ</span><br><span class="line">Total requests: 6</span><br><span class="line"></span><br><span class="line">==================================================================</span><br><span class="line">ID	Response   Lines      Word         Chars          Payload</span><br><span class="line">==================================================================</span><br><span class="line"></span><br><span class="line">000004:  C=404      1 L	     121 W	   1636 Ch	  "test123"</span><br><span class="line">000003:  C=404      1 L	     121 W	   1636 Ch	  "456"</span><br><span class="line">000006:  C=404      1 L	     121 W	   1636 Ch	  "admin123"</span><br><span class="line">000005:  C=404      1 L	     121 W	   1636 Ch	  "admin"</span><br><span class="line">000001:  C=404      1 L	     121 W	   1636 Ch	  "abc"</span><br><span class="line">000002:  C=404      1 L	     121 W	   1636 Ch	  "123"</span><br><span class="line"></span><br><span class="line">Total time: 2.122055</span><br><span class="line">Processed Requests: 6</span><br><span class="line">Filtered Requests: 0</span><br><span class="line">Requests/sec.: 2.827447</span><br></pre></td></tr></table></figure>

<p>通过返回结果我们可以知道很多信息，最需要关注的就是<code>ID、Response、 Lines、Word、Chars、Payload</code>这一行，从左往右看，依次是<strong>编号、响应状态码、响应报文行数、响应报文字数、响应报文正字符数、测试使用的Payload</strong>。</p>
<h3 id="了解Wfuzz"><a href="#了解Wfuzz" class="headerlink" title="了解Wfuzz"></a>了解Wfuzz</h3><p>通过<code>-h</code>或者<code>--help</code>可以来获取帮助信息。</p>
<h4 id="Wfuzz模块"><a href="#Wfuzz模块" class="headerlink" title="Wfuzz模块"></a>Wfuzz模块</h4><p>如上所述说到wfuzz是模块化的框架，wfuzz默认自带很多模块，模块分为5种类型分别是：<code>payloads</code>、<code>encoders</code>、<code>iterators</code>、<code>printers</code>和<code>scripts</code>。</p>
<p>通过<code>-e</code>参数可以查看指定模块类型中的模块列表：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wfuzz -e payloads</span><br></pre></td></tr></table></figure>

<p><code>payloads</code>类的模块列表如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">Available payloads:</span><br><span class="line"></span><br><span class="line">  Name            | Summary</span><br><span class="line">------------------------------------------------------------------------------------------------------</span><br><span class="line">  guitab          | This payload reads requests from a tab in the GUI</span><br><span class="line">  dirwalk         | Returns filename's recursively from a local directory.</span><br><span class="line">  file            | Returns each word from a file.</span><br><span class="line">  burpstate       | Returns fuzz results from a Burp state.</span><br><span class="line">  wfuzzp          | Returns fuzz results' URL from a previous stored wfuzz session.</span><br><span class="line">  ipnet           | Returns list of IP addresses of a network.</span><br><span class="line">  bing            | Returns URL results of a given bing API search (needs api key).</span><br><span class="line">  stdin           | Returns each item read from stdin.</span><br><span class="line">  list            | Returns each element of the given word list separated by -.</span><br><span class="line">  hexrand         | Returns random hex numbers from the given range.</span><br><span class="line">  range           | Returns each number of the given range.</span><br><span class="line">  names           | Returns possible usernames by mixing the given words, separated by -, using know</span><br><span class="line">                  | n typical constructions.</span><br><span class="line">  hexrange        | Returns each hex number of the given hex range.</span><br><span class="line">  permutation     | Returns permutations of the given charset and length.</span><br><span class="line">  buffer_overflow | Returns a string using the following pattern A * given number.</span><br><span class="line">  iprange         | Returns list of IP addresses of a given IP range.</span><br><span class="line">  burplog         | Returns fuzz results from a Burp log.</span><br><span class="line">  autorize        | Returns fuzz results' from autororize.</span><br></pre></td></tr></table></figure>

<h3 id="Wfuzz使用"><a href="#Wfuzz使用" class="headerlink" title="Wfuzz使用"></a>Wfuzz使用</h3><p>从上文知道了wfuzz基于一个非常简单的概念：使用payload来替换相应的FUZZ关键词的位置，FUZZ这样的关键词就是<code>占位符</code>，payload就是输入源。</p>
<p>通过<code>wfuzz -e payloads</code>可以获取payloads类的所有模块列表，使用<code>wfuzz -z help</code>可以获取关于payloads类模块的详细信息，也可以通过<code>--slice</code>参数来过滤返回信息的结果。</p>
<p>e.g. <code>wfuzz -z help --slice &quot;names&quot;</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Name: names 0.1</span><br><span class="line">Categories: default</span><br><span class="line">Summary: Returns possible usernames by mixing the given words, separated by -, using known typical constructions.</span><br><span class="line">Author: Christian Martorella,Adapted to newer versions Xavi Mendez (@xmendez)</span><br><span class="line">Description:</span><br><span class="line">   ie. jon-smith</span><br><span class="line">Parameters:</span><br><span class="line">   + name: Name and surname in the form of name-surname.</span><br></pre></td></tr></table></figure>

<h4 id="使用（字典）"><a href="#使用（字典）" class="headerlink" title="使用（字典）"></a>使用（字典）</h4><p>注：命令中的wordlist表示为字典位置</p>
<ol>
<li><p><code>wfuzz -z file --zP fn=wordlist URL/FUZZ</code></p>
</li>
<li><p><code>wfuzz -z file,wordlist URL/FUZZ</code></p>
</li>
<li><p><code>wfuzz -w wordlist URL/FUZZ</code></p>
</li>
</ol>
<p>这里有必要说明下，使用命令意义是一样的，都是使用<code>payloads</code>模块类中的<code>file</code>模块，通过<code>wfuzz -z help --slice &quot;file&quot;</code>看如何使用<code>file</code>模块：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Name: file 0.1</span><br><span class="line">Categories: default</span><br><span class="line">Summary: Returns each word from a file.</span><br><span class="line">Author: Carlos del Ojo,Christian Martorella,Adapted to newer versions Xavi Mendez (@xmendez)</span><br><span class="line">Description:</span><br><span class="line">   Returns the contents of a dictionary file line by line.</span><br><span class="line">Parameters:</span><br><span class="line">   + fn: Filename of a valid dictionary</span><br></pre></td></tr></table></figure>

<p>通过返回的帮助信息，我们知道这个模块需要一个<strong>参数fn</strong>，这个参数值为字典文件名（绝对路径）。这样子第一条命令一下子就明白了，<code>wfuzz -z file --zP fn=wordlist URL/FUZZ</code>中的<code>-z file</code>使用模块，<code>--zP fn=wordlist</code>是定义<strong>fn参数</strong>的值（可以这样理解，–zP 这里的P大写代表 Parameters ，然后其他的都是固有个事）</p>
<p>第二条命令简写了第一条命令的赋值，第三条命令使用<code>-w</code>，这个参数就是<code>-z file --zP fn</code>的别名。</p>
<p><strong>多个字典</strong></p>
<p>使用<code>-z</code> 或<code>-w</code> 参数可以同时指定多个字典，这时相应的占位符应设置为 <strong>FUZZ,FUZ2Z,FUZ3Z,….,FUZnZ</strong>, 其中<code>n</code>代表了占位序号。</p>
<p>例如想要同时爆破目录、文件名、后缀，可以这样来玩：</p>
<p><code>wfuzz -w 目录字典路径 -w 文件名字典路径 -w 后缀名字典路径 URL/FUZZ/FUZ2Z.FUZ3Z</code></p>
<h4 id="过滤器"><a href="#过滤器" class="headerlink" title="过滤器"></a>过滤器</h4><p>wfuzz具有过滤器功能，在做测试的过程中会因为环境的问题需要进行过滤，例如在做目录扫描的时候，你事先探测并知道了这个网站访问不存在目录的时候使用的是自定义404页面（也就是状态码为200），而你可以选择提取该自定义页面的特征来过滤这些返回结果。</p>
<p>wfuzz过滤分为两种方法：<strong>隐藏符合过滤条件的结果</strong> 和 <strong>显示符合过滤条件的结果</strong></p>
<p><strong>隐藏响应结果</strong></p>
<p>通过<code>--hc</code>，<code>--hl</code>，<code>--hw</code>，<code>--hh</code>参数可以隐藏某些HTTP响应。</p>
<ul>
<li><code>--hc</code> 根据响应报文状态码进行隐藏（hide code）</li>
</ul>
<p>隐藏404：</p>
<p><code>wfuzz -w wordlist --hc 404 URL/FUZZ</code></p>
<p>隐藏404、403：</p>
<p><code>wfuzz -w wordlist --hc 404,403 URL/FUZZ</code></p>
<p>e.g. 使用百度举个例子，运行<code>wfuzz -w test_dict.txt https://www.baidu.com/FUZZ</code>结果如下</p>
<p><img src="https://vulkey.oss-cn-hangzhou.aliyuncs.com/2018-10-28/0x00.png" alt="0x00"></p>
<p>这里所有的测试请求，都是不存在的页面，那么百度的404页面规则就是如上图结果所示：<strong>响应报文状态码（302）、响应报文行数（7）、响应报文字数（18）、响应报文字符数（222）</strong>，那么下面的就是填空题了～</p>
<ul>
<li><code>--hl</code>根据响应报文行数进行隐藏（hide lines）</li>
</ul>
<p><code>wfuzz -w wordlist --hl 7 https://www.baidu.com/FUZZ</code></p>
<ul>
<li><code>--hw</code>根据响应报文字数进行隐藏（hide word）</li>
</ul>
<p><code>wfuzz -w wordlist --hw 18 https://www.baidu.com/FUZZ</code></p>
<ul>
<li><code>--hh</code>根据响应报文字符数进行隐藏（hide chars 这里因为code和chars首字母都是c，–hc参数已经有了，所以hide chars的参数就变成了–hh）</li>
</ul>
<p><code>wfuzz -w wordlist --hh 222 https://www.baidu.com/FUZZ</code></p>
<p>如果根据单个条件判断相对来说肯定是不精确的，所以整合一下就是这样的命令：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wfuzz -w wordlist --hc 302 --hl 7 --hw 18 --hh 222 https://www.baidu.com/FUZZ</span><br></pre></td></tr></table></figure>

<p>这样就可以对<code>https://www.baidu.com/</code>进行目录扫描咯～</p>
<p><strong>显示响应结果</strong></p>
<p>显示响应结果的使用方法跟隐藏时的原理一样，只不过参数变为了：<code>--sc</code>（show code），<code>--sl</code>（show lines），<code>--sw</code>（show word），<code>--sh</code> （show chars）。</p>
<p><strong>使用Baseline(基准线)</strong></p>
<p>过滤器可以是某个HTTP响应的引用，这样的引用我们称为Baseline。</p>
<p>之前的使用<code>--hh</code>进行过滤的例子中，还可以使用下面的命令代替：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wfuzz -w wordlist --hh BBB https://www.baidu.com/FUZZ&#123;404there&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://vulkey.oss-cn-hangzhou.aliyuncs.com/2018-10-28/0x01.png" alt="0x01"></p>
<p>这条命令的意思应该很容易理解，首先要清楚基准线是什么？换个名字：标准线 or 及格线。</p>
<p>首先解释下<code>https://www.baidu.com/FUZZ{404there}</code>的意思，这里代表wfuzz第一个请求是请求<code>https://www.baidu.com/404there</code>这个网址，在<code>{ }</code>内的值用来指定wfuzz第一个请求中的FUZZ占位符，而这第一个请求被标记为BBB（<strong>BBB不能换成别的</strong>）基准线；其次这里使用的参数是<code>--hh</code>，<strong>也就是以BBB这条请求中的Chars为基准，其他请求的Chars值与BBB相同则隐藏</strong>。</p>
<p><strong>使用正则表达式过滤</strong></p>
<p>wfuzz参数<code>--ss</code>和<code>--hs</code>可以使用正则表达式来对返回的结果过滤。</p>
<p>e.g. 在这里一个网站自定义返回页面的内容中包含<code>Not Found</code>，想根据这个内容进行过滤可以使用如下的命令：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wfuzz -w wordlist --hs "Not Found" http://127.0.0.1/FUZZ</span><br></pre></td></tr></table></figure>

<p><img src="https://vulkey.oss-cn-hangzhou.aliyuncs.com/2018-10-28/0x02.png" alt="0x02"></p>
<p>得出结论使用方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wfuzz -w wordlist --hs 正则表达式 URL/FUZZ #隐藏</span><br><span class="line">wfuzz -w wordlist --ss 正则表达式 URL/FUZZ #显示</span><br></pre></td></tr></table></figure>

<h2 id="手册"><a href="#手册" class="headerlink" title="手册"></a>手册</h2><p>原文来自：DigApis安全 m0nst3r</p>
<h3 id="模块种类"><a href="#模块种类" class="headerlink" title="模块种类"></a>模块种类</h3><h4 id="payload"><a href="#payload" class="headerlink" title="payload"></a>payload</h4><p>payload为wfuzz生成的用于测试的特定字符串，一般情况下，会替代被测试URL中的FUZZ占位符。<br>当前版本中的wfuzz中可用payloads列表如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">Available payloads:</span><br><span class="line">  Name            | Summary                                                                           </span><br><span class="line">------------------------------------------------------------------------------------------------------</span><br><span class="line">  guitab          | 从可视化的标签栏中读取请求                                </span><br><span class="line">  dirwalk         | 递归获得本地某个文件夹中的文件名                            </span><br><span class="line">  file            | 获取一个文件当中的每个词                                                    </span><br><span class="line">  autorize        | 获取autorize的测试结果Returns fuzz results' from autororize.                                            </span><br><span class="line">  wfuzzp          | 从之前保存的wfuzz会话中获取测试结果的URL                   </span><br><span class="line">  ipnet           | 获得一个指定网络的IP地址列表                                        </span><br><span class="line">  bing            | 获得一个使用bing API搜索的URL列表 (需要 api key).                   </span><br><span class="line">  stdin           | 获得从标准输入中的条目                                                </span><br><span class="line">  list            | 获得一个列表中的每一个元素，列表用以 - 符号分格                       </span><br><span class="line">  hexrand         | 从一个指定的范围中随机获取一个hex值                                  </span><br><span class="line">  range           | 获得指定范围内的每一个数值                                          </span><br><span class="line">  names           | 从一个以 - 分隔的列表中，获取以组合方式生成的所有usernames值</span><br><span class="line">  burplog         | 从BurpSuite的记录中获得测试结果                                             </span><br><span class="line">  permutation     | 获得一个在指定charset和length时的字符组合                             </span><br><span class="line">  buffer_overflow | 获得一个包含指定个数个A的字符串.                    </span><br><span class="line">  hexrange        | 获得指定范围内的每一个hex值                                   </span><br><span class="line">  iprange         | 获得指定IP范围内的IP地址列表                                 </span><br><span class="line">  burpstate       | 从BurpSuite的状态下获得测试结果</span><br></pre></td></tr></table></figure>

<h4 id="encoder"><a href="#encoder" class="headerlink" title="encoder"></a>encoder</h4><p>encoder的作用是将payload进行编码或加密。<br>wfuzz的encoder列表如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">Available encoders:</span><br><span class="line">  Category      | Name                      | Summary                                                                           </span><br><span class="line">------------------------------------------------------------------------------------------------------------------------</span><br><span class="line">  url_safe, url | urlencode                 | 用`%xx`的方式替换特殊字符， 字母/数字/下划线/半角点/减号不替换</span><br><span class="line">  url_safe, url | double urlencode             | 用`%25xx`的方式替换特殊字符， 字母/数字/下划线/半角点/减号不替换</span><br><span class="line">  url              | uri_double_hex            | 用`%25xx`的方式将所有字符进行编码</span><br><span class="line">  html          | html_escape                | 将`&amp;`，`&lt;`，`&gt;`转换为HTML安全的字符</span><br><span class="line">  html            | html_hexadecimal             | 用 `&amp;#xx;` 的方式替换所有字符</span><br><span class="line">  hashes         | base64                    | 将给定的字符串中的所有字符进行base64编码</span><br><span class="line">  url             | doble_nibble_hex             | 将所有字符以`%%dd%dd`格式进行编码</span><br><span class="line">  db             | mssql_char                | 将所有字符转换为MsSQL语法的`char(xx)`形式</span><br><span class="line">  url             | utf8                        | 将所有字符以`\u00xx` 格式进行编码</span><br><span class="line">  hashes         | md5                         | 将给定的字符串进行md5加密</span><br><span class="line">  default         | random_upper                | 将字符串中随机字符变为大写</span><br><span class="line">  url             | first_nibble_hex          | 将所有字符以`%%dd?` 格式进行编码</span><br><span class="line">  default         | hexlify                    | 每个数据的单个比特转换为两个比特表示的hex表示</span><br><span class="line">  url             | second_nibble_hex         | 将所有字符以`%?%dd` 格式进行编码</span><br><span class="line">  url             | uri_hex                     | 将所有字符以`%xx` 格式进行编码</span><br><span class="line">  default         | none                         | 不进行任何编码</span><br><span class="line">  hashes         | sha1                        | 将字符串进行sha1加密</span><br><span class="line">  url             | utf8_binary                | 将字符串中的所有字符以 `\uxx` 形式进行编码</span><br><span class="line">  url             | uri_triple_hex             | 将所有字符以`%25%xx%xx` 格式进行编码</span><br><span class="line">  url             | uri_unicode                | 将所有字符以`%u00xx` 格式进行编码</span><br><span class="line">  html             | html_decimal                | 将所有字符以 `&amp;#dd; ` 格式进行编码</span><br><span class="line">  db             | oracle_char                | 将所有字符转换为Oracle语法的`chr(xx)`形式</span><br><span class="line">  db             | mysql_char                 | 将所有字符转换为MySQL语法的`char(xx)`形式</span><br></pre></td></tr></table></figure>

<h4 id="iterator"><a href="#iterator" class="headerlink" title="iterator"></a>iterator</h4><p>wfuzz的iterator提供了针对多个payload的处理方式。<br>itorators的列表如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Available iterators:</span><br><span class="line"></span><br><span class="line">  Name    | Summary</span><br><span class="line">----------------------------------------------------------------------------------------------</span><br><span class="line">  product | Returns an iterator cartesian product of input iterables.</span><br><span class="line">  zip     | Returns an iterator that aggregates elements from each of the iterables.</span><br><span class="line">  chain   | Returns an iterator returns elements from the first iterable until it is exhaust</span><br><span class="line">          | ed, then proceeds to the next iterable, until all of the iterables are exhausted</span><br><span class="line">          | .</span><br></pre></td></tr></table></figure>

<h4 id="printer"><a href="#printer" class="headerlink" title="printer"></a>printer</h4><p>wfuzz的printers用于控制输出打印。<br>printers列表如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Available printers:</span><br><span class="line">  Name      | Summary                             </span><br><span class="line">--------------------------------------------------</span><br><span class="line">  raw       | `Raw` output format</span><br><span class="line">  json      | Results in `json` format</span><br><span class="line">  csv       | `CSV` printer ftw</span><br><span class="line">  magictree | Prints results in `magictree` format</span><br><span class="line">  html      | Prints results in `html` format</span><br></pre></td></tr></table></figure>

<h4 id="scripts"><a href="#scripts" class="headerlink" title="scripts"></a>scripts</h4><p>scripts列表如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Available scripts:</span><br><span class="line">  Category                   | Name          | Summary</span><br><span class="line">----------------------------------------------------------------------------------------------------</span><br><span class="line">  default, passive           | cookies       | 查找新的cookies</span><br><span class="line">  default, passive           | errors        | 查找错误信息</span><br><span class="line">  passive                    | grep          | HTTP response grep</span><br><span class="line">  active                     | screenshot    | 用linux cutycapt tool 进行屏幕抓取 </span><br><span class="line">  default, active, discovery | links         | 解析HTML并查找新的内容</span><br><span class="line">  default, active, discovery | wc_extractor  | 解析subversion的wc.db文件</span><br><span class="line">  default, passive           | listing       | 查找列目录漏洞</span><br><span class="line">  default, passive           | title         | 解析HTML页面的title</span><br><span class="line">  default, active, discovery | robots        | 解析robots.txt文件来查找新内容</span><br><span class="line">  default, passive           | headers       | 查找服务器的返回头</span><br><span class="line">  default, active, discovery | cvs_extractor | 解析 CVS/Entries 文件</span><br><span class="line">  default, active, discovery | svn_extractor | 解析 .svn/entries 文件</span><br><span class="line">  active, discovery          | backups       | 查找已知的备份文件名</span><br><span class="line">  default, active, discovery | sitemap       | 解析 sitemap.xml 文件</span><br></pre></td></tr></table></figure>

<h3 id="内置工具"><a href="#内置工具" class="headerlink" title="内置工具"></a>内置工具</h3><h4 id="wfencode-工具"><a href="#wfencode-工具" class="headerlink" title="wfencode 工具"></a>wfencode 工具</h4><p>这是wfuzz自带的一个加密/解密（编码/反编码）工具，目前支持内建的encoders的加/解密。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">wfencode -e base64 123456</span><br><span class="line">[RES] MTIzNDU2</span><br><span class="line">wfencode -d base64 MTIzNDU2</span><br><span class="line">[RES] 123456</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="wfpayload工具"><a href="#wfpayload工具" class="headerlink" title="wfpayload工具"></a>wfpayload工具</h4><p>wfpayload是payload生成工具</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">wfpayload -z range,0-10</span><br><span class="line">[RES]</span><br><span class="line">0</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td></tr></table></figure>

<h4 id="wxfuzz-工具"><a href="#wxfuzz-工具" class="headerlink" title="wxfuzz 工具"></a>wxfuzz 工具</h4><p>这个看源码是一个wxPython化的wfuzz，也就是GUI图形界面的wfuzz。目前需要wxPython最新版本才能使用，但是在ParrotOS和Kali上都无法正常安装成功，问题已在GitHub提交Issue，期待开发者的回复中…</p>
<h3 id="wfuzz命令中文帮助"><a href="#wfuzz命令中文帮助" class="headerlink" title="wfuzz命令中文帮助"></a>wfuzz命令中文帮助</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">Usage:    wfuzz [options] -z payload,params &lt;url&gt;</span><br><span class="line">    FUZZ, ..., FUZnZ              payload占位符，wfuzz会用指定的payload代替相应的占位符，n代表数字. </span><br><span class="line">    FUZZ&#123;baseline_value&#125;     FUZZ 会被 baseline_value替换，并将此作为测试过程中第一个请求来测试，可用来作为过滤的一个基础。</span><br><span class="line">Options:</span><br><span class="line">    -h/--help            : 帮助文档</span><br><span class="line">    --help                : 高级帮助文档</span><br><span class="line">    --version            : Wfuzz详细版本信息</span><br><span class="line">    -e &lt;type&gt;            :  显示可用的encoders/payloads/iterators/printers/scripts列表</span><br><span class="line">    --recipe &lt;filename&gt;        : 从文件中读取参数</span><br><span class="line">    --dump-recipe &lt;filename&gt;    : 打印当前的参数并保存成文档</span><br><span class="line">    --oF &lt;filename&gt;               : 将测试结果保存到文件，这些结果可被wfuzz payload 处理</span><br><span class="line">    -c                : 彩色化输出</span><br><span class="line">    -v                : 详细输出</span><br><span class="line">    -f filename,printer         : 将结果以printer的方式保存到filename (默认为raw printer).</span><br><span class="line">    -o printer                  : 输出特定printer的输出结果</span><br><span class="line">    --interact            : (测试功能) 如果启用，所有的按键将会被捕获，这使得你能够与程序交互</span><br><span class="line">    --dry-run            : 打印测试结果，而并不发送HTTP请求</span><br><span class="line">    --prev                : 打印之前的HTTP请求（仅当使用payloads来生成测试结果时使用）</span><br><span class="line">    -p addr                : 使用代理，格式 ip:port:type. 可设置多个代理，type可取的值为SOCKS4,SOCKS5 or HTTP（默认）</span><br><span class="line">    -t N                : 指定连接的并发数，默认为10</span><br><span class="line">    -s N                : 指定请求的间隔时间，默认为0</span><br><span class="line">    -R depth            : 递归路径探测，depth指定最大递归数量</span><br><span class="line">    -L,--follow            : 跟随HTTP重定向</span><br><span class="line">    -Z                : 扫描模式 (连接错误将被忽视).</span><br><span class="line">    --req-delay N            : 设置发送请求允许的最大时间，默认为 90，单位为秒.</span><br><span class="line">    --conn-delay N              : 设置连接等待的最大时间，默认为 90，单位为秒.</span><br><span class="line">    -A                : 是 --script=default -v -c 的简写</span><br><span class="line">    --script=            : 与 --script=default 等价</span><br><span class="line">    --script=&lt;plugins&gt;        : 进行脚本扫描， &lt;plugins&gt; 是一个以逗号分开的插件或插件分类列表</span><br><span class="line">    --script-help=&lt;plugins&gt;        : 显示脚本的帮助</span><br><span class="line">    --script-args n1=v1,...     : 给脚本传递参数. ie. --script-args grep.regex="&lt;A href=\"(.*?)\"&gt;"</span><br><span class="line">    -u url                      : 指定请求的URL</span><br><span class="line">    -m iterator            : 指定一个处理payloads的迭代器 (默认为product)</span><br><span class="line">    -z payload            : 为每一个占位符指定一个payload，格式为 name[,parameter][,encoder].</span><br><span class="line">                      编码可以是一个列表, 如 md5-sha1. 还可以串联起来, 如. md5@sha1.</span><br><span class="line">                      还可使用编码各类名，如 url</span><br><span class="line">                                      使用help作为payload来显示payload的详细帮助信息，还可使用--slice进行过滤</span><br><span class="line">    --zP &lt;params&gt;            : 给指定的payload设置参数。必须跟在 -z 或-w 参数后面</span><br><span class="line">    --slice &lt;filter&gt;        : 以指定的表达式过滤payload的信息，必须跟在-z 参数后面</span><br><span class="line">    -w wordlist            : 指定一个wordlist文件，等同于 -z file,wordlist</span><br><span class="line">    -V alltype            : 暴力测试所有GET/POST参数，无需指定占位符</span><br><span class="line">    -X method            : 指定一个发送请求的HTTP方法，如HEAD或FUZZ</span><br><span class="line">    -b cookie            : 指定请求的cookie参数，可指定多个cookie</span><br><span class="line">    -d postdata             : 设置用于测试的POST data (ex: "id=FUZZ&amp;catalogue=1")</span><br><span class="line">    -H header              : 设置用于测试请求的HEADER (ex:"Cookie:id=1312321&amp;user=FUZZ"). 可指定多个HEADER.</span><br><span class="line">    --basic/ntlm/digest auth    : 格式为 "user:pass" or "FUZZ:FUZZ" or "domain\FUZ2Z:FUZZ"</span><br><span class="line">    --hc/hl/hw/hh N[,N]+        : 以指定的返回码/行数/字数/字符数作为判断条件隐藏返回结果 (用 BBB 来接收 baseline)</span><br><span class="line">    --sc/sl/sw/sh N[,N]+        : 以指定的返回码/行数/字数/字符数作为判断条件显示返回结果 (用 BBB 来接收 baseline)</span><br><span class="line">    --ss/hs regex            : 显示或隐藏返回结果中符合指定正则表达式的返回结果</span><br><span class="line">    --filter &lt;filter&gt;        : 显示或隐藏符合指定filter表达式的返回结果 (用 BBB 来接收 baseline)</span><br><span class="line">    --prefilter &lt;filter&gt;        : 用指定的filter表达式在测试之前过滤某些测试条目</span><br></pre></td></tr></table></figure>

<hr>
<p>ps：本文转自key师傅的博客  <strong><em>–&gt;<a href="https://gh0st.cn/archives/2018-10-28/1" target="_blank" rel="noopener">原文</a></em></strong></p>


      

    </section>
    
      <section class="ArticleMeta">
          <div>
            发布于&nbsp;
            <time datetime="2018-10-27T16:00:00.000Z" itemprop="datePublished">
              2018-10-28
            </time>
          </div>
          
      </section>
    
    
</article>

  
</div>

            <footer>
    <div>© 2019 - Unixcs </div>
    <div>
        <span>

        </span>
        <span>

        </span>
    </div>
</footer>

        </div>
    </div>
</div>
<script src="/js/pager/dist/singlepager.js"></script>
<script>
var sp = new Pager('data-pager-shell')

</script>
</body>
</html>